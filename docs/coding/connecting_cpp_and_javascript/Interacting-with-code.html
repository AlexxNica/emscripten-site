
    
<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Interacting with code (wiki-import) &mdash; Emscripten 1.20.0 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="Emscripten 1.20.0 documentation" href="../../../index.html"/>
        <link rel="up" title="Connecting C++ and JavaScript (under-construction)" href="index.html"/>
        <link rel="next" title="embind (wiki-import)" href="embind.html"/>
        <link rel="prev" title="Connecting C++ and JavaScript (under-construction)" href="index.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">


<div class="grid-to-center-rtd-theme"> 
 
  <div class="wy-grid-for-nav">
  


    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <!-- <a href="../../../index.html" class="fa fa-home"> Emscripten</a> -->
		<a href="../../../index.html"> <img src="../../..//_static/Emscripten_logo_full.png" alt="Logo" /> </a>
		
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">

		 
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introducing_emscripten/index.html">Introducing Emscripten (under-construction)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../introducing_emscripten/FAQ.html">FAQ (wiki-import)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../introducing_emscripten/FAQ.html#general">General</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../introducing_emscripten/FAQ.html#using-emscripten">Using Emscripten</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../introducing_emscripten/community.html">Community</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../introducing_emscripten/community.html#get-in-touch">Get in touch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../introducing_emscripten/community.html#report-a-bug">Report a bug</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../introducing_emscripten/community.html#blogs">Blogs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../introducing_emscripten/community.html#contribute">Contribute</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../introducing_emscripten/emscripten_license.html">Open Source License</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../introducing_emscripten/bug_reports.html">Bug Reporting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../introducing_emscripten/bug_reports.html#fastcomp-llvm-backend-and-clang-bugs">Fastcomp LLVM-Backend and Clang bugs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../introducing_emscripten/bug_reports.html#site-and-documentation-bugs">Site and documentation bugs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../introducing_emscripten/release_notes.html">Release Notes (ready-for-review)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../introducing_emscripten/release_notes.html#changelog">ChangeLog</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../introducing_emscripten/Talks-and-Publications.html">Talks and Publications (wiki-import)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../introducing_emscripten/Talks-and-Publications.html#talks">Talks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../introducing_emscripten/Talks-and-Publications.html#papers">Papers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../introducing_emscripten/Talks-and-Publications.html#books">Books</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/index.html">Getting Started (under-construction)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../getting_started/downloads.html">Download and install (ready-for-review)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/downloads.html#sdk-downloads">SDK Downloads</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../getting_started/downloads.html#windows">Windows</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../getting_started/downloads.html#linux-and-mac-os-x">Linux and Mac OS X</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/downloads.html#installation-instructions">Installation instructions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../getting_started/downloads.html#windows-installing-using-an-nsis-installer">Windows: Installing using an NSIS installer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../getting_started/downloads.html#windows-osx-and-linux-installing-the-portable-sdk">Windows, OSX and Linux: Installing the Portable SDK</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../getting_started/downloads.html#platform-specific-notes">Platform-specific notes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/downloads.html#verifying-the-installation">Verifying the installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/downloads.html#updating-the-sdk">Updating the SDK</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/downloads.html#uninstalling-the-emscripten-sdk">Uninstalling the Emscripten SDK</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/downloads.html#archived-releases">Archived releases</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../getting_started/building_from_source/index.html">Installing Emscripten from source (under-construction)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/building_from_source/installing_from_source.html">Installing from Source (under-construction)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../getting_started/building_from_source/installing_from_source.html#things-you-ll-need">Things you&#8217;ll need</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../getting_started/building_from_source/installing_from_source.html#additional-notes">Additional Notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../getting_started/building_from_source/installing_from_source.html#windows-and-osx-guides-for-manual-building">Windows and OSX: guides for manual building</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../getting_started/building_from_source/installing_from_source.html#linux-guides-for-manual-building">Linux: guides for manual building</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../getting_started/building_from_source/installing_from_source.html#configuring-the-basic-emscripten-settings-file">Configuring the basic Emscripten settings file</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/building_from_source/Using-Emscripten-on-Windows.html">Using Emscripten on Windows (wiki-import)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../getting_started/building_from_source/Using-Emscripten-on-Windows.html#setting-up-the-emscripten-toolchain-on-windows">Setting up the Emscripten Toolchain on Windows</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../getting_started/building_from_source/Using-Emscripten-on-Windows.html#integrating-emscripten-to-visual-studio-2010">Integrating Emscripten to Visual Studio 2010</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/building_from_source/Getting-started-on-Mac-OS-X.html">Getting started on Mac OS X (wiki-import)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../getting_started/verify_emscripten_environment.html">Verifying the Emscripten Development Environment (ready-for-review)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/verify_emscripten_environment.html#testing-the-environment">Testing the environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/verify_emscripten_environment.html#troubleshooting">Troubleshooting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../getting_started/verify_emscripten_environment.html#installing-missing-components">Installing missing components</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../getting_started/verify_emscripten_environment.html#other-common-problems">Other common problems</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../getting_started/Tutorial.html">Emscripten Tutorial (under-construction)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/Tutorial.html#first-things-first">First things first</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/Tutorial.html#verifying-emscripten">Verifying Emscripten</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/Tutorial.html#running-emscripten">Running Emscripten</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/Tutorial.html#generating-html">Generating HTML</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/Tutorial.html#using-files">Using files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/Tutorial.html#optimizing-code">Optimizing code</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/Tutorial.html#running-the-emscripten-test-suite-and-benchmarks">Running the Emscripten Test Suite and Benchmarks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/Tutorial.html#general-tips-and-next-steps">General tips and next steps</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Integrating/Porting (under-construction)</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../CodeGuidelinesAndLimitations.html">CodeGuidelinesAndLimitations (wiki-import)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../CodeGuidelinesAndLimitations.html#code-that-cannot-be-compiled">Code that CANNOT be compiled</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../CodeGuidelinesAndLimitations.html#function-pointer-issues">Function pointer issues</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../CodeGuidelinesAndLimitations.html#code-that-does-compile-but-might-be-slower-than-expected">Code that DOES compile, but might be slower than expected</a></li>
<li class="toctree-l3"><a class="reference internal" href="../CodeGuidelinesAndLimitations.html#code-that-might-be-useful-to-avoid">Code that MIGHT be useful to avoid</a></li>
<li class="toctree-l3"><a class="reference internal" href="../CodeGuidelinesAndLimitations.html#networking">Networking</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Emscripten-browser-environment.html">Emscripten browser environment (wiki-import)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Emscripten-browser-environment.html#browser-main-loop">Browser main loop</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Emscripten-browser-environment.html#implementing-an-asynchronous-main-loop-in-c-c">Implementing an asynchronous main loop in C/C++</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Emscripten-browser-environment.html#execution-lifecycle">Execution lifecycle</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Emscripten-browser-environment.html#notes">Notes</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Connecting C++ and JavaScript (under-construction)</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="">Interacting with code (wiki-import)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#interacting-with-compiled-code">Interacting with Compiled Code</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="embind.html">embind (wiki-import)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="embind.html#what-is-embind">What is embind?</a></li>
<li class="toctree-l4"><a class="reference internal" href="embind.html#a-quick-example">A Quick Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="embind.html#classes">Classes</a></li>
<li class="toctree-l4"><a class="reference internal" href="embind.html#memory-management">Memory Management</a></li>
<li class="toctree-l4"><a class="reference internal" href="embind.html#value-types">Value Types</a></li>
<li class="toctree-l4"><a class="reference internal" href="embind.html#advanced-class-concepts">Advanced Class Concepts</a></li>
<li class="toctree-l4"><a class="reference internal" href="embind.html#overloaded-functions">Overloaded Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="embind.html#enums">Enums</a></li>
<li class="toctree-l4"><a class="reference internal" href="embind.html#constants">Constants</a></li>
<li class="toctree-l4"><a class="reference internal" href="embind.html#val">val</a></li>
<li class="toctree-l4"><a class="reference internal" href="embind.html#built-in-type-conversions">Built-in Type Conversions</a></li>
<li class="toctree-l4"><a class="reference internal" href="embind.html#performance">Performance</a></li>
<li class="toctree-l4"><a class="reference internal" href="embind.html#future-work">Future Work</a></li>
<li class="toctree-l4"><a class="reference internal" href="embind.html#how-does-it-work">How does it work?</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="using_the_embind_val_class_from_cpp.html">Using Web Audio API from Cpp with the Embind val class (wiki-import)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="using_the_embind_val_class_from_cpp.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="using_the_embind_val_class_from_cpp.html#example">Example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="WebIDL-Binder.html">WebIDL Binder (wiki-import)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="WebIDL-Binder.html#id1">WebIDL Binder</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../multimedia_and_graphics/index.html">Multimedia and Graphics (under-construction)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../multimedia_and_graphics/EGL-Support-in-Emscripten.html">EGL Support in Emscripten (wiki-import)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../multimedia_and_graphics/EGL-Support-in-Emscripten.html#what-egl-is-not">What EGL is not?</a></li>
<li class="toctree-l4"><a class="reference internal" href="../multimedia_and_graphics/EGL-Support-in-Emscripten.html#how-to-create-a-webgl-context-using-egl">How to create a WebGL context using EGL?</a></li>
<li class="toctree-l4"><a class="reference internal" href="../multimedia_and_graphics/EGL-Support-in-Emscripten.html#implementation-status-and-notes">Implementation Status and Notes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../multimedia_and_graphics/OpenGL-support.html">OpenGL support (wiki-import)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../multimedia_and_graphics/OpenGL-support.html#emulation-levels">Emulation levels</a></li>
<li class="toctree-l4"><a class="reference internal" href="../multimedia_and_graphics/OpenGL-support.html#what-is-the-webgl-friendly-subset-of-opengl">What is the &#8220;WebGL-friendly subset of OpenGL&#8221;?</a></li>
<li class="toctree-l4"><a class="reference internal" href="../multimedia_and_graphics/OpenGL-support.html#writing-for-the-webgl-friendly-subset-of-opengl">Writing for the WebGL-friendly subset of OpenGL</a></li>
<li class="toctree-l4"><a class="reference internal" href="../multimedia_and_graphics/OpenGL-support.html#what-if-i-need-additional-gl-features-not-supported-yet">What if I need additional GL features not supported yet?</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Asm-pointer-casts.html">Asm pointer casts (wiki-import)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Synchronous-Virtual-XHR-Backed-File-System-Usage.html">Synchronous Virtual XHR Backed File System Usage (wiki-import)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Synchronous-Virtual-XHR-Backed-File-System-Usage.html#instructions-for-use">Instructions for use</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../debugging/index.html">Debugging (under-construction)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../debugging/Debugging.html">Debugging (wiki-import)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../debugging/Debugging.html#id1">Debugging</a></li>
<li class="toctree-l4"><a class="reference internal" href="../debugging/Debugging.html#debugging-emscripten-issues">Debugging Emscripten Issues</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Browser-limitations.html">Browser limitations (wiki-import)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Garbage_Collection.html">GC (wiki-import)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Garbage_Collection.html#api-changes-from-boehm">API Changes From Boehm</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Garbage_Collection.html#mechanism">Mechanism</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Garbage_Collection.html#pitfalls">Pitfalls</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Garbage_Collection.html#relevant-files">Relevant Files</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../optimizing/index.html">Optimization (under-construction)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../optimizing/Optimizing-Code.html">Optimizing Code (wiki-import)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../optimizing/Optimizing-Code.html#optimizing-the-generated-code">Optimizing the Generated Code</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../optimizing/Optimizing-Code.html#using-emcc">Using emcc</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../optimizing/Optimizing-Code.html#how-to-optimize-code">How to optimize code</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../optimizing/Optimizing-Code.html#advanced-compiler-settings">Advanced compiler settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../optimizing/Optimizing-Code.html#very-large-projects">Very large projects</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../optimizing/Optimizing-Code.html#memory-initialization">Memory initialization</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../optimizing/Optimizing-Code.html#optimization-levels">Optimization levels</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../optimizing/Optimizing-Code.html#code-size">Code size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../optimizing/Optimizing-Code.html#outlining">Outlining</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../optimizing/Optimizing-Code.html#aggressive-variable-elimination">Aggressive Variable Elimination</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../optimizing/Optimizing-Code.html#other-optimization-issues">Other optimization issues</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../optimizing/Optimizing-Code.html#exception-catching">Exception Catching</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../optimizing/Optimizing-Code.html#viewing-code-optimization-passes">Viewing code optimization passes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../optimizing/Optimizing-Code.html#inlining">Inlining</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../optimizing/Optimizing-Code.html#unsafe-optimizations">Unsafe optimizations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../optimizing/Optimizing-Code.html#profiling">Profiling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../optimizing/Optimizing-Code.html#troubleshooting-slowness">Troubleshooting Slowness</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../optimizing/Optimizing-the-source-code.html">Optimizing the source code (wiki-import)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../optimizing/Optimizing-the-source-code.html#id1">Optimizing the source code</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../compiling/index.html">Compiling and running projects (under-construction)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../compiling/Building-Projects.html">Building Projects (wiki-import)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/Building-Projects.html#id1">Building Projects</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../compiling/Building-Projects.html#optimizations">Optimizations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../compiling/Building-Projects.html#debug-info">Debug info</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../compiling/Building-Projects.html#notes">Notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../compiling/Building-Projects.html#build-system-self-execution">Build System Self-Execution</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../compiling/Building-Projects.html#dynamic-linking">Dynamic Linking</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../compiling/Building-Projects.html#linking-in-libraries">Linking in libraries</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../compiling/Building-Projects.html#configure">Configure</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../compiling/Code-Generation-Modes.html">Code Generation Modes (wiki-import)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/Code-Generation-Modes.html#id1">Code Generation Modes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../compiling/Code-Generation-Modes.html#typed-arrays">Typed Arrays</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../compiling/Code-Generation-Modes.html#bit-integer-modes">64-bit Integer Modes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../compiling/Code-Generation-Modes.html#double-mode">Double Mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../compiling/Code-Generation-Modes.html#exceptions">Exceptions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../compiling/Code-Generation-Modes.html#memory-compression-a-k-a-quantum-size-1">Memory Compression (a.k.a QUANTUM_SIZE == 1)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../compiling/Running-html-files-with-emrun.html">Running html files with emrun (wiki-import)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/Running-html-files-with-emrun.html#features">Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/Running-html-files-with-emrun.html#quick-how-to">Quick how-to</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/Running-html-files-with-emrun.html#choosing-the-browser-to-run">Choosing the browser to run</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/Running-html-files-with-emrun.html#controlling-web-server-operation">Controlling web server operation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/Running-html-files-with-emrun.html#controlling-log-output">Controlling log output</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/Running-html-files-with-emrun.html#cleaning-up-after-the-run">Cleaning up after the run</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/Running-html-files-with-emrun.html#running-web-pages-on-an-android-device">Running web pages on an Android device</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../packaging/index.html">Packaging (under-construction)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../packaging/Filesystem-Guide.html">Filesystem Guide (wiki-import)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../packaging/Filesystem-Guide.html#id1">Filesystem Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../packaging/Filesystem-Guide.html#packaging-files">Packaging files</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../packaging/Filesystem-Guide.html#customizing-the-data-url">Customizing the data URL</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../packaging/Filesystem-Guide.html#mapping">&#64; Mapping</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../packaging/Filesystem-Guide.html#monitoring-read-files">Monitoring Read Files</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../packaging/Filesystem-Guide.html#manually-using-the-fs-api">Manually using the FS API</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/index.html">Contributing to Emscripten (under-construction)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../contributing/contributing.html">Contributing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../contributing/contributing.html#getting-started">Getting started</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contributing/contributing.html#branches-of-interest">Branches of interest</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contributing/contributing.html#submitting-patches">Submitting patches</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contributing/contributing.html#code-reviews">Code reviews</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contributing/contributing.html#next-steps">Next steps</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing/developers_guide.html">Developer&#8217;s Guide (wiki-import)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../contributing/developers_guide.html#basic-useful-stuff">Basic useful stuff</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contributing/developers_guide.html#running-a-specific-test">Running a specific test</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contributing/developers_guide.html#test-failures">Test failures</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contributing/developers_guide.html#general-compiler-overview">General compiler overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contributing/developers_guide.html#wiki-pages-you-should-read">Wiki pages you should read</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contributing/developers_guide.html#bisection">Bisection</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contributing/developers_guide.html#debugging-tricks">Debugging tricks</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing/LLVM-Backend.html">LLVM Backend (wiki-import)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../contributing/LLVM-Backend.html#llvm-backend-aka-fastcomp">LLVM Backend, aka &#8220;fastcomp&#8221;</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../contributing/LLVM-Backend.html#overview-of-fastcomp">Overview of Fastcomp</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../contributing/LLVM-Backend.html#getting-fastcomp">Getting Fastcomp</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../contributing/LLVM-Backend.html#backend-code-structure">Backend code structure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../contributing/LLVM-Backend.html#why-did-this-change-happen">Why did this change happen?</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../contributing/LLVM-Backend.html#status-of-original-compiler-and-how-to-disable-fastcomp">Status of Original Compiler (and how to disable fastcomp)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../contributing/LLVM-Backend.html#faq">FAQ</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing/LLVM-Types-in-JavaScript.html">LLVM Types in JavaScript (wiki-import)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing/AUTHORS.html">AUTHORS (ready-for-review)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../api_reference/index.html">API Reference (under-construction)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/emscripten.h.html">emscripten.h</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/emscripten.h.html#inline-assembly-javascript">Inline assembly/JavaScript</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/emscripten.h.html#defines">Defines</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/emscripten.h.html#calling-javascript-from-c-c">Calling JavaScript From C/C++</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/emscripten.h.html#function-pointer-types-for-callbacks">Function pointer types for callbacks</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/emscripten.h.html#functions">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/emscripten.h.html#browser-execution-environment">Browser Execution Environment</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/emscripten.h.html#id3">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/emscripten.h.html#emscripten-file-system-api">Emscripten File System API</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/emscripten.h.html#typedefs">Typedefs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/emscripten.h.html#id4">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/emscripten.h.html#compiling">Compiling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/emscripten.h.html#worker-api">Worker API</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/emscripten.h.html#id5">Typedefs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/emscripten.h.html#id6">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/emscripten.h.html#logging-utilities">Logging utilities</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/emscripten.h.html#id7">Defines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/emscripten.h.html#id8">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/emscripten.h.html#networking">Networking</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/emscripten.h.html#id9">Defines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/emscripten.h.html#id10">Functions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/html5.h.html">html5.h</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/html5.h.html#how-to-use-this-api">How to use this API</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#registration-functions">Registration functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#callback-functions">Callback functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#functions-affected-by-web-security">Functions affected by web security</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#test-example-code">Test/Example code</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/html5.h.html#general-types">General types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/html5.h.html#function-result-values">Function result values</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/html5.h.html#keys">Keys</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#defines">Defines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#struct">Struct</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id2">Callback functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#functions">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/html5.h.html#mouse">Mouse</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id3">Defines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id4">Struct</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id5">Callback functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id6">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/html5.h.html#wheel">Wheel</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id7">Defines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id10">Struct</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id11">Callback functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id12">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/html5.h.html#ui">UI</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id14">Defines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id15">Struct</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id16">Callback functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id17">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/html5.h.html#focus">Focus</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id20">Defines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id21">Struct</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id23">Callback functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id24">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/html5.h.html#device-orientation">Device orientation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id29">Defines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id30">Struct</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id31">Callback functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id32">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/html5.h.html#device-motion">Device motion</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id34">Defines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id35">Struct</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id37">Callback functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id38">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/html5.h.html#id41">Orientation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id42">Defines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id43">Struct</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id45">Callback functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id46">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/html5.h.html#fullscreen">Fullscreen</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id48">Defines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id49">Struct</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id52">Callback functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id53">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/html5.h.html#pointerlock">Pointerlock</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id56">Defines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id57">Struct</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id60">Callback functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id61">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/html5.h.html#visibility">Visibility</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id64">Defines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id65">Struct</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id67">Callback functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id68">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/html5.h.html#touch">Touch</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id70">Defines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id71">Struct</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id72">Callback functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id73">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/html5.h.html#gamepad">Gamepad</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id75">Defines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id77">Struct</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id79">Callback functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id80">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/html5.h.html#battery">Battery</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id82">Defines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id83">Struct</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id85">Callback functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id86">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/html5.h.html#vibration">Vibration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id88">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/html5.h.html#page-unload">Page unload</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id90">Defines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id91">Callback functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id92">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/html5.h.html#webgl-context">WebGL context</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id94">Defines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id96">Callback functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id97">Functions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/preamble.js.html">preamble.js</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/preamble.js.html#calling-compiled-c-functions-from-javascript">Calling compiled C functions from JavaScript</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/preamble.js.html#accessing-memory">Accessing memory</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/preamble.js.html#conversion-functions-strings-pointers-and-arrays">Conversion functions — strings, pointers and arrays</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/preamble.js.html#run-dependencies">Run dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/preamble.js.html#stack-trace">Stack trace</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/preamble.js.html#type-accessors-for-typed-arrays-mode-2">Type accessors for Typed Arrays Mode 2</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/Filesystem-API.html">Filesystem API (under-construction)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/Filesystem-API.html#persistence">Persistence</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/Filesystem-API.html#memfs">MEMFS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/Filesystem-API.html#nodefs">NODEFS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/Filesystem-API.html#mount-options">Mount options</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/Filesystem-API.html#idbfs">IDBFS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/Filesystem-API.html#devices">Devices</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/Filesystem-API.html#setting-up-standard-i-o-devices">Setting up standard I/O devices</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/Filesystem-API.html#filesystem">Filesystem</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/Filesystem-API.html#file-types">File types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/Filesystem-API.html#paths">Paths</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/advanced-apis.html">Advanced APIs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/advanced-apis.html#settings-js">settings.js</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/advanced-apis.html#allocate">allocate()</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/advanced-apis.html#module-runtime">Module.Runtime</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tools_reference/index.html">Tools Reference (under-construction)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../tools_reference/emsdk.html">Emscripten SDK Manager (emsdk) (ready-for-review)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tools_reference/emsdk.html#purpose">Purpose</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tools_reference/emsdk.html#command-line-syntax">Command line syntax</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tools_reference/emsdk.html#arguments">Arguments</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tools_reference/emsdk.html#tools-and-sdk-targets">Tools and SDK targets</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../tools_reference/emsdk.html#sdk-manager-concepts">SDK manager concepts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tools_reference/emsdk.html#how-to-guides">&#8220;How to&#8221; guides</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tools_reference/emsdk.html#how-do-i-just-get-the-latest-sdk">How do I just get the latest SDK?</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tools_reference/emsdk.html#how-do-i-use-emsdk">How do I use emsdk?</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tools_reference/emsdk.html#how-do-i-check-which-versions-of-the-sdk-and-tools-are-installed">How do I check which versions of the SDK and tools are installed?</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tools_reference/emsdk.html#how-do-i-install-a-tool-sdk-version">How do I install a tool/SDK version?</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tools_reference/emsdk.html#how-do-i-remove-a-tool-or-an-sdk">How do I remove a tool or an SDK?</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tools_reference/emsdk.html#how-do-i-check-for-updates-to-the-emscripten-sdk">How do I check for updates to the Emscripten SDK?</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tools_reference/emsdk.html#how-do-i-change-the-currently-active-sdk-version">How do I change the currently active SDK version?</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tools_reference/emsdk.html#how-do-i-install-an-old-emscripten-compiler-version">How do I install an old Emscripten compiler version?</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tools_reference/emsdk.html#how-do-i-track-the-latest-emscripten-development-with-the-sdk">How do I track the latest Emscripten development with the SDK?</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tools_reference/emsdk.html#how-do-i-use-my-own-emscripten-github-fork-with-the-sdk">How do I use my own Emscripten Github fork with the SDK?</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tools_reference/emcc.html">Emscripten Compiler Frontend (emcc) (under-construction)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tools_reference/emcc.html#purpose">Purpose</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tools_reference/emcc.html#command-line-syntax">Command line syntax</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tools_reference/emcc.html#arguments">Arguments</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../tools_reference/emcc.html#environment-variables">Environment variables</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tools_reference/emcmdprompt.html">Emscripten Command Prompt (emcmdprompt.bat) (ready-for-review)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tools_reference/emcmdprompt.html#purpose">Purpose</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tools_reference/emcmdprompt.html#command-line-syntax">Command line syntax</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tools_reference/compiler_configuration_file.html">Emscripten Compiler Configuration File (.emscripten) (ready-for-review)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tools_reference/compiler_configuration_file.html#purpose">Purpose</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tools_reference/compiler_configuration_file.html#example-emscripten-file-usage">Example .emscripten file usage</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../site/about.html">About site (ready-for-review)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../site/about.html#page-management-markup">Page management markup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../site/about.html#reporting-bugs">Reporting bugs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../site/about.html#searching-the-site">Searching the site</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../site/about.html#building-the-site">Building the site</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../site/about.html#make-html">make html</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../site/about.html#installing-sphinx">Installing Sphinx</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../site/about.html#ubuntu">Ubuntu</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../site/about.html#writing-and-updating-articles">Writing and updating articles</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../site/about.html#style-guide">Style guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../site/about.html#how-to-link-to-a-document-or-heading">How to link to a document or heading</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../site/about.html#recommended-section-heading-markup">Recommended section/heading markup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../site/about.html#working-in-markdown">Working in markdown</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../site/about.html#read-the-docs-theme">Read the docs theme</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../site/about.html#site-license">Site license</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>
	
    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
         <i data-toggle="wy-nav-top" class="fa fa-bars"></i> 
        <!-- <a href="../../../index.html">Emscripten</a> -->
		<a href="../../../index.html"> <img src="../../..//_static/Emscripten_logo_full.png" alt="Logo" /> </a>
      </nav>

	    
	  
      
      <div class="wy-nav-content">
        <div class="rst-content">
		
		   <!--begin hamishw addition --> 
   
   <!--Nav bar defined as a document followed by short version of nav text and long version
    If no such page exists then nav item is not created. CSS defines which of the long or short version is 
	displayed.   -->
   <div class="main-nav-bar" style="">   
   
   <!-- the layout of the menu options - centered with left and right alignment of the first and last loop items respectively.
   This is VERY UGLY as I'm adding to the CSS in the code to force the alignment. Would be better just to have the elements here and have the CSS in the CSS file. This could be done with a CSS selector, but not worked out how yet. -->
   
	 <ul id="menu-options">
        
              <li style="text-align:left;"><a class="navlink-short" title="Docs" href="../../index.html">Docs</a><a class="navlink-long" title="Documentation" href="../../index.html">Documentation</a></li>
        
              <li><a class="navlink-short" title="SDK" href="../../getting_started/downloads.html">SDK</a><a class="navlink-long" title="Downloads" href="../../getting_started/downloads.html">Downloads</a></li>
        
              <li><a class="navlink-short" title="Help" href="../../introducing_emscripten/community.html">Help</a><a class="navlink-long" title="Community" href="../../introducing_emscripten/community.html">Community</a></li>
         
		      <li style="text-align:right;"><a class="navlink-short" href="https://github.com/kripken/emscripten">Github</a><a class="navlink-long" href="https://github.com/kripken/emscripten">Github Project</a></li>
           	
     </ul>
	 <!-- <div style="clear:both;"></div> -->
	 <div role="navigation" aria-label="breadcrumbs navigation">

  <div class="breadcrumb-box">
     <a class="breadcrumb-box-item" href="../../../index.html">Home</a> 
      
          <a class="breadcrumb-box-item" href="../index.html">&raquo;&nbsp;Integrating/Porting (under-construction)</a>
      
          <a class="breadcrumb-box-item" href="index.html">&raquo;&nbsp;Connecting C++ and JavaScript (under-construction)</a>
      
    <div class="breadcrumb-box-item">&raquo;&nbsp;Interacting with code (wiki-import)</div>
  </div>
 
</div>
 
   </div>
  
   
	
   <!--end hamishw addition -->
		
          <!--HamishW move <div role="navigation" aria-label="breadcrumbs navigation">

  <div class="breadcrumb-box">
     <a class="breadcrumb-box-item" href="../../../index.html">Home</a> 
      
          <a class="breadcrumb-box-item" href="../index.html">&raquo;&nbsp;Integrating/Porting (under-construction)</a>
      
          <a class="breadcrumb-box-item" href="index.html">&raquo;&nbsp;Connecting C++ and JavaScript (under-construction)</a>
      
    <div class="breadcrumb-box-item">&raquo;&nbsp;Interacting with code (wiki-import)</div>
  </div>
 
</div> -->
          <div role="main">
            
  <div class="section" id="interacting-with-code-wiki-import">
<span id="interacting-with-code"></span><h1>Interacting with code (wiki-import)<a class="headerlink" href="#interacting-with-code-wiki-import" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This article was migrated from the wiki (Fri, 25 Jul 2014 04:21) and is now the &#8220;master copy&#8221; (the version in the wiki will be deleted). It may not be a perfect rendering of the original but we hope to fix that soon!</p>
</div>
<div class="section" id="interacting-with-compiled-code">
<h2>Interacting with Compiled Code<a class="headerlink" href="#interacting-with-compiled-code" title="Permalink to this headline">¶</a></h2>
<p>(If you are looking for how compiled code interacts with the browser
environment, see <a class="reference internal" href="../Emscripten-browser-environment.html#emscripten-browser-environment"><em>Emscripten browser environment (wiki-import)</em></a>.)</p>
<p>There are various ways to connect and interact between JS and compiled
C++ in JS. An overview appears in the second half of these slides:
<a class="reference external" href="http://kripken.github.io/mloc_emscripten_talk/qcon.html">http://kripken.github.io/mloc_emscripten_talk/qcon.html</a></p>
<div class="section" id="calling-compiled-functions-from-normal-javascript">
<h3>Calling Compiled Functions From Normal JavaScript<a class="headerlink" href="#calling-compiled-functions-from-normal-javascript" title="Permalink to this headline">¶</a></h3>
<p>It&#8217;s easy to call compiled code from normal JavaScript. For example, run
this command in the Emscripten home directory:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span class="p">.</span><span class="o">/</span><span class="n">emcc</span> <span class="n">tests</span><span class="o">/</span><span class="n">hello_function</span><span class="p">.</span><span class="n">cpp</span> <span class="o">-</span><span class="n">o</span> <span class="n">function</span><span class="p">.</span><span class="n">html</span> <span class="o">-</span><span class="n">s</span> <span class="n">EXPORTED_FUNCTIONS</span><span class="o">=</span><span class="s">&quot;[&#39;_int_sqrt&#39;]&quot;</span>
</pre></div>
</div>
<p>Open the page in a web browser. Nothing will happen because you compiled
a function, and there is no <tt class="docutils literal"><span class="pre">main</span></tt> so nothing will be run by default.
But, open a JavaScript environment (Control-Shift-K on Firefox,
Control-Shift-J on Chrome), then type (as three separate commands,
pressing Enter after each one):</p>
<div class="highlight-cpp"><div class="highlight"><pre>int_sqrt = Module.cwrap(&#39;int_sqrt&#39;, &#39;number&#39;, [&#39;number&#39;])
int_sqrt(12)
int_sqrt(28)
</pre></div>
</div>
<p>You should get the results <tt class="docutils literal"><span class="pre">3,</span> <span class="pre">5</span></tt>, which are the correct output: The
compiled function does a square root operation, but acts on integers.
Open <tt class="docutils literal"><span class="pre">tests/hello_function.cpp</span></tt> to see the source code that you just
called here.</p>
<p><a class="reference internal" href="../../api_reference/preamble.js.html#cwrap" title="cwrap"><tt class="xref js js-func docutils literal"><span class="pre">cwrap()</span></tt></a> which was used in this example will wrap a compiled C
function, returning a JavaScript function you can call normally.
<a class="reference internal" href="../../api_reference/preamble.js.html#cwrap" title="cwrap"><tt class="xref js js-func docutils literal"><span class="pre">cwrap()</span></tt></a> gets as its first parameter the name of the function to be
wrapped, then the return type of the function, then an array of
parameter types (the array can be omitted if there are no parameters).
The types are native JavaScript types, &#8220;number&#8221; (for a C integer, float,
or general pointer) or &#8220;string&#8221; (for a C <tt class="docutils literal"><span class="pre">char*</span></tt> that represents a
string).</p>
<p>There is also <a class="reference internal" href="../../api_reference/preamble.js.html#ccall" title="ccall"><tt class="xref js js-func docutils literal"><span class="pre">ccall()</span></tt></a>, which is like <a class="reference internal" href="../../api_reference/preamble.js.html#cwrap" title="cwrap"><tt class="xref js js-func docutils literal"><span class="pre">cwrap()</span></tt></a> but receives another
parameter with the parameters to pass to the function, and calls the
function. <a class="reference internal" href="../../api_reference/preamble.js.html#cwrap" title="cwrap"><tt class="xref js js-func docutils literal"><span class="pre">cwrap()</span></tt></a> is useful to wrap a function once and call it
several times, while <a class="reference internal" href="../../api_reference/preamble.js.html#ccall" title="ccall"><tt class="xref js js-func docutils literal"><span class="pre">ccall()</span></tt></a> is useful for a single call to a
function.</p>
<p>Some things to keep in mind with <a class="reference internal" href="../../api_reference/preamble.js.html#ccall" title="ccall"><tt class="xref js js-func docutils literal"><span class="pre">ccall()</span></tt></a> and <a class="reference internal" href="../../api_reference/preamble.js.html#cwrap" title="cwrap"><tt class="xref js js-func docutils literal"><span class="pre">cwrap()</span></tt></a>:</p>
<ul class="simple">
<li>In the example above, we compiled a C function. That&#8217;s easier than
C++ because C++ functions are name-mangled.</li>
<li>By default Emscripten does dead code elimination to minimize code
size. See the <a class="reference internal" href="../../introducing_emscripten/FAQ.html#faq"><em>FAQ (wiki-import)</em></a> entry on &#8220;Functions in my C/C++ source code
vanish when I compile to JavaScript..?&#8221;</li>
<li>In <tt class="docutils literal"><span class="pre">-O2</span></tt> and above, closure compiler is run, which minifies
function names - which means you won&#8217;t be able to find your compiled
functions. To prevent that, run emcc with
<tt class="docutils literal"><span class="pre">-s</span> <span class="pre">EXPORTED_FUNCTIONS='[&quot;_main&quot;,&quot;_other_function&quot;]'</span></tt>. Exported
functions will retain their names even through closure compiler.
<strong>Note:</strong> you need <tt class="docutils literal"><span class="pre">_</span></tt> at the beginning of the functions when
exporting (but not with ccall), and note also that you need to use
<tt class="docutils literal"><span class="pre">Module.ccall</span></tt> and not <a class="reference internal" href="../../api_reference/preamble.js.html#ccall" title="ccall"><tt class="xref js js-func docutils literal"><span class="pre">ccall()</span></tt></a> by itself, since closure will
minify the function name, leaving only the Module object where we
export names.</li>
</ul>
</div>
<div class="section" id="accessing-memory">
<h3>Accessing Memory<a class="headerlink" href="#accessing-memory" title="Permalink to this headline">¶</a></h3>
<p>You can access memory using <a class="reference internal" href="../../api_reference/preamble.js.html#getValue" title="getValue"><tt class="xref js js-func docutils literal"><span class="pre">getValue(ptr,</span> <span class="pre">type)</span></tt></a> and
<a class="reference internal" href="../../api_reference/preamble.js.html#setValue" title="setValue"><tt class="xref js js-func docutils literal"><span class="pre">setValue(ptr,</span> <span class="pre">value,</span> <span class="pre">type)</span></tt></a>. The first argument is a pointer, a
number representing a memory address. <tt class="docutils literal"><span class="pre">type</span></tt> must be an LLVM IR type,
one of <tt class="docutils literal"><span class="pre">i8,i16,i32,i64,float,double</span></tt> or a pointer type like <tt class="docutils literal"><span class="pre">i8*</span></tt>
(or just <tt class="docutils literal"><span class="pre">*</span></tt>). Note that the types here are not as in <a class="reference internal" href="../../api_reference/preamble.js.html#ccall" title="ccall"><tt class="xref js js-func docutils literal"><span class="pre">ccall()</span></tt></a> and
<a class="reference internal" href="../../api_reference/preamble.js.html#cwrap" title="cwrap"><tt class="xref js js-func docutils literal"><span class="pre">cwrap()</span></tt></a> - this is a lower-level operation, and we do need to care what
specific integer etc. type is being used.</p>
<p>You can also access memory &#8216;directly&#8217; by manipulating the arrays that
represent memory. This is not recommended unless you are sure you know
what you are doing, and need the additional speed over
<a class="reference internal" href="../../api_reference/preamble.js.html#getValue" title="getValue"><tt class="xref js js-func docutils literal"><span class="pre">getValue()</span></tt></a>/<a class="reference internal" href="../../api_reference/preamble.js.html#setValue" title="setValue"><tt class="xref js js-func docutils literal"><span class="pre">setValue()</span></tt></a>. A case where you might need this is if you
want to import a large amount of data from JS to be processed by
compiled code, then you might do something like this:</p>
<div class="highlight-cpp"><div class="highlight"><pre>var buf = Module._malloc(myTypedArray.length*myTypedArray.BYTES_PER_ELEMENT);
Module.HEAPU8.set(myTypedArray, buf);
Module.ccall(&#39;my_function&#39;, &#39;number&#39;, [&#39;number&#39;], [buf]);
Module._free(buf);
</pre></div>
</div>
<p>That allocates a buffer, copies in some data, then calls a C function to
process the data, and finally frees the buffer. Here <tt class="docutils literal"><span class="pre">my_function</span></tt> is
a C function that receives a single integer parameter (could be a
pointer as well, as they are just 32-bit integers for us), and returns
an integer as well, something like <tt class="docutils literal"><span class="pre">int</span> <span class="pre">my_function(char</span> <span class="pre">*buf)</span></tt>.</p>
</div>
<div class="section" id="calling-javascript-from-c-c">
<h3>Calling JavaScript From C/C++<a class="headerlink" href="#calling-javascript-from-c-c" title="Permalink to this headline">¶</a></h3>
<p>The most direct way is to just use <a class="reference internal" href="../../api_reference/emscripten.h.html#c.emscripten_run_script" title="emscripten_run_script"><tt class="xref c c-func docutils literal"><span class="pre">emscripten_run_script()</span></tt></a>, which
basically runs some JS code from C/C++ using eval. So
<tt class="docutils literal"><span class="pre">emscripten_run_script(&quot;alert('hi')&quot;);</span></tt> will show an alert with &#8216;hi&#8217;
(note: this calls <tt class="docutils literal"><span class="pre">alert</span></tt> which is present in browsers, but not in
node or other JS shells. You can call <tt class="docutils literal"><span class="pre">Module.print</span></tt> to print to
stdout). This is not very fast though. A faster alternative is to write
&#8220;inline JavaScript&#8221;, basically the same as inline assembly would be
used, for example</p>
<div class="highlight-cpp"><div class="highlight"><pre>#include &lt;emscripten.h&gt;
int main() {
  EM_ASM(
    alert(&#39;hello world!&#39;);
    throw &#39;all done&#39;;
  );
  return 0;
}
</pre></div>
</div>
<p>If you compile that C file, Emscripten will execute those two lines of
JavaScript as if they appeared directly there in the generated code, so
that when the compiled program is run you will see an alert and then an
exception thrown.</p>
<p>You can also send values from C into JS inside <a class="reference internal" href="../../api_reference/emscripten.h.html#c.EM_ASM" title="EM_ASM"><tt class="xref c c-macro docutils literal"><span class="pre">EM_ASM</span></tt></a>, as well as
receive values back. See <tt class="docutils literal"><span class="pre">emscripten.h</span></tt> for details. One example is</p>
<div class="highlight-cpp"><div class="highlight"><pre>int x = EM_ASM_INT({
  Module.print(&#39;I received: &#39; + $0);
  return $0 + 1;
}, 100);
printf(&quot;%d\n&quot;, x);
</pre></div>
</div>
<p>This will print out <tt class="docutils literal"><span class="pre">I</span> <span class="pre">received:</span> <span class="pre">100</span></tt> and then <tt class="docutils literal"><span class="pre">101</span></tt>. Note how you
need to specify if the return value is an int or a double (with <tt class="docutils literal"><span class="pre">_INT</span></tt>
here), also how the input values appear as <tt class="docutils literal"><span class="pre">$0,</span> <span class="pre">$1,</span> <span class="pre">etc.</span></tt>, how
<tt class="docutils literal"><span class="pre">return</span></tt> is used to provide the value sent from JS back to C, and
finally how <tt class="docutils literal"><span class="pre">{,</span> <span class="pre">}</span></tt> are used here to enclose the code (this is
necessary because of how C macros work, to differentiate the code from
the arguments passed later which are the input values).</p>
<p><strong>Note:</strong> When using the <a class="reference internal" href="../../api_reference/emscripten.h.html#c.EM_ASM" title="EM_ASM"><tt class="xref c c-macro docutils literal"><span class="pre">EM_ASM</span></tt></a> macro, ensure that you only use
single quotes(&#8216;). Double quotes(&#8221;) will cause a syntax error that is not
detected by the compiler and is only shown when looking at a JavaScript
console while running the offending code.</p>
<p>More generally, our entire libc, SDL etc. implementations are exactly JS
code that is called from C/C++ using a C API. You can add your own
libraries as well. For example, if you have some C code like this</p>
<div class="highlight-cpp"><div class="highlight"><pre><span class="k">extern</span> <span class="kt">void</span> <span class="nf">my_js</span><span class="p">();</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">my_js</span><span class="p">();</span>
  <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Note:</strong> when using C++ you should encapsulate <tt class="docutils literal"><span class="pre">extern</span> <span class="pre">void</span> <span class="pre">my_js();</span></tt>
in <tt class="docutils literal"><span class="pre">extern</span> <span class="pre">&quot;C&quot;</span> <span class="pre">{}</span></tt> block:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span class="k">extern</span> <span class="s">&quot;C&quot;</span> <span class="p">{</span>
  <span class="k">extern</span> <span class="kt">void</span> <span class="n">my_js</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<p>then you can implement <tt class="docutils literal"><span class="pre">my_js</span></tt> in JS by simply adding</p>
<div class="highlight-cpp"><div class="highlight"><pre>my_js: function() {
  alert(&#39;hi&#39;);
},
</pre></div>
</div>
<p>to <strong>library.js</strong>. How this works is that when there is an external
symbol, the compiler looks in the JS libraries and pulls in the relevant
symbols. See the library*.js files for more details and examples.</p>
<p>You can use the emcc option <tt class="docutils literal"><span class="pre">--js-library</span></tt> to add a file with such
code, instead of placing it inside <strong>library.js</strong>. This lets you be more
modular. See <tt class="docutils literal"><span class="pre">test_js_libraries</span></tt> in <tt class="docutils literal"><span class="pre">tests/test_other.py</span></tt> for a
complete working example, including the syntax you should use inside the
JS library file.</p>
<ul class="simple">
<li>JS libraries can declare dependencies (<tt class="docutils literal"><span class="pre">__deps</span></tt>, see examples in
<tt class="docutils literal"><span class="pre">library*.js</span></tt>), however those are only for other JS libraries. If a
JS library depends on a compiled C library (like most of libc), you
must edit <tt class="docutils literal"><span class="pre">src/deps_info.json</span></tt>, see <tt class="docutils literal"><span class="pre">tools/system_libs.py</span></tt>
(search for deps_info).</li>
</ul>
<div class="section" id="calling-js-functions-as-function-pointers-from-c">
<h4>Calling JS functions as function pointers from C<a class="headerlink" href="#calling-js-functions-as-function-pointers-from-c" title="Permalink to this headline">¶</a></h4>
<p>You can use <tt class="docutils literal"><span class="pre">Runtime.addFunction</span></tt> to return an integer value that
represents a function pointer. Passing that integer to C code then lets
it call that value as a function pointer, and the JS function you sent
to <tt class="docutils literal"><span class="pre">Runtime.addFunction</span></tt> will be called. See <tt class="docutils literal"><span class="pre">test_add_function</span></tt> in
<tt class="docutils literal"><span class="pre">tests/test_core.py</span></tt> for an example.</p>
</div>
</div>
<div class="section" id="webidl-binder">
<h3>WebIDL Binder<a class="headerlink" href="#webidl-binder" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="WebIDL-Binder.html#webidl-binder"><em>WebIDL Binder (wiki-import)</em></a> is a tool to make C++ classes usable from JS as JS
classes. It is used to port Bullet Physics to the web in the <strong>ammo.js</strong>
project, and is a fairly simple lightweight approach to binding between
the two languages.</p>
</div>
<div class="section" id="embind">
<h3>Embind<a class="headerlink" href="#embind" title="Permalink to this headline">¶</a></h3>
<p>Embind is a method to communicate from JS to C++ and C++ to JS, in a
C++-like manner (whereas JS libraries are using C APIs, and just one
direction). The only downside is that it is not as lightweight as JS
libraries or the WebIDL binder. Docs: <a class="reference internal" href="embind.html#embind"><em>embind (wiki-import)</em></a>.</p>
</div>
<div class="section" id="other-methods">
<h3>Other Methods<a class="headerlink" href="#other-methods" title="Permalink to this headline">¶</a></h3>
<p>You can directly interact in various other ways with the compiled code:</p>
<ul class="simple">
<li>Functions in the original source become JS functions, so you can call
them directly if you do type translations yourself - this will be
faster than using <a class="reference internal" href="../../api_reference/preamble.js.html#ccall" title="ccall"><tt class="xref js js-func docutils literal"><span class="pre">ccall()</span></tt></a> or <a class="reference internal" href="../../api_reference/preamble.js.html#cwrap" title="cwrap"><tt class="xref js js-func docutils literal"><span class="pre">cwrap()</span></tt></a>, but a little more complex.
To call the method directly, you will need to use the full name as it
appears in the generated code, and note that a leading <tt class="docutils literal"><span class="pre">_</span></tt> is added
to all C methods. (However if you use <a class="reference internal" href="../../api_reference/preamble.js.html#ccall" title="ccall"><tt class="xref js js-func docutils literal"><span class="pre">ccall()</span></tt></a> or <a class="reference internal" href="../../api_reference/preamble.js.html#cwrap" title="cwrap"><tt class="xref js js-func docutils literal"><span class="pre">cwrap()</span></tt></a>, you do
not need to prefix function calls with <tt class="docutils literal"><span class="pre">_</span></tt> - <a class="reference internal" href="../../api_reference/preamble.js.html#ccall" title="ccall"><tt class="xref js js-func docutils literal"><span class="pre">ccall()</span></tt></a> and
<a class="reference internal" href="../../api_reference/preamble.js.html#cwrap" title="cwrap"><tt class="xref js js-func docutils literal"><span class="pre">cwrap()</span></tt></a> use the C name, which has no extra leading <tt class="docutils literal"><span class="pre">_</span></tt>).</li>
<li>The types of the parameters you pass to functions need to make sense.
Integers and floating point values can be passed as is. Aside from
those, there are pointers, which are simply integers in the generated
code.</li>
<li>Strings in JavaScript must be converted to pointers for compiled
code, the relevant functions are <a class="reference internal" href="../../api_reference/preamble.js.html#Pointer_stringify" title="Pointer_stringify"><tt class="xref js js-func docutils literal"><span class="pre">Pointer_stringify()</span></tt></a> which given a
pointer returns a JavaScript string, and the other direction can be
accomplished by
<tt class="docutils literal"><span class="pre">allocate(intArrayFromString(someString),</span> <span class="pre">'i8',</span> <span class="pre">ALLOC_STACK)</span></tt> which
will convert a JavaScript string <tt class="docutils literal"><span class="pre">someString</span></tt> to a pointer. Note
that conversion to a pointer allocates memory (that&#8217;s the call to
<tt class="docutils literal"><span class="pre">allocate</span></tt> there), and in this case we allocate it on the stack (if
you are called from a compiled function, it will rewind the stack for
you; otherwise, you should do <tt class="docutils literal"><span class="pre">Runtime.stackSave()</span></tt> before and
<tt class="docutils literal"><span class="pre">Runtime.stackRestore(..that</span> <span class="pre">value..)</span></tt> afterwards).</li>
<li>There are various other convenience functions, see <strong>preamble.js</strong>
(that file will be included with the generated code).</li>
<li>For filesystem-related manners, see the <a class="reference internal" href="../../packaging/Filesystem-Guide.html#filesystem-guide"><em>Filesystem Guide (wiki-import)</em></a>.</li>
</ul>
</div>
<div class="section" id="affecting-execution">
<h3>Affecting Execution<a class="headerlink" href="#affecting-execution" title="Permalink to this headline">¶</a></h3>
<p>You can affect how code runs by creating an object called <tt class="docutils literal"><span class="pre">Module</span></tt>
before the compiled script. Certain properties on <tt class="docutils literal"><span class="pre">Module</span></tt> can then
have various effects:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">arguments</span></tt>: The commandline arguments (if the compiled code checks
<tt class="docutils literal"><span class="pre">argc</span></tt>, <tt class="docutils literal"><span class="pre">argv</span></tt>, it will be seeing <tt class="docutils literal"><span class="pre">arguments</span></tt>)</li>
<li><tt class="docutils literal"><span class="pre">print</span></tt>: Called when something is printed to standard output.</li>
<li><tt class="docutils literal"><span class="pre">preInit</span></tt>: A function (or array of functions) to call before global
initializers run, but after basic initialization of the JS runtime
(so you can do <tt class="docutils literal"><span class="pre">FS.*</span></tt> stuff, but no C++ initializers were called
yet).</li>
<li><tt class="docutils literal"><span class="pre">preRun</span></tt>: A function (or array of functions) to call right before
calling <tt class="docutils literal"><span class="pre">run</span></tt>, but after defining and setting up the environment,
including global initializers. This is useful, for example, to set up
directories and files using the FileSystem API (since that needs the
FileSystem API to be defined, but also needs to be done before the
program starts to run; if you need to affect global initializers,
though, you should use preInit).</li>
<li><tt class="docutils literal"><span class="pre">noInitialRun</span></tt>: If set to true, <tt class="docutils literal"><span class="pre">main()</span></tt> will not be called. The
program will still call global initializers, set up memory
initialization, and so forth. You can then call <tt class="docutils literal"><span class="pre">main()</span></tt> yourself
later.</li>
<li><tt class="docutils literal"><span class="pre">noExitRuntime</span></tt>: If set to true, the runtime is not shut down after
<tt class="docutils literal"><span class="pre">run</span></tt> is called. Shutting down the runtime calls shutdown
callbacks, for example <tt class="docutils literal"><span class="pre">atexit</span></tt> calls. If you want to be able to
continue to use the code after <tt class="docutils literal"><span class="pre">run</span></tt> finishes, it is safer to set
this.</li>
</ul>
<p>For example,</p>
<div class="highlight-cpp"><div class="highlight"><pre>var Module = {
  &#39;print&#39;: function(text) { alert(text) }
};
</pre></div>
</div>
<p>This will cause all printouts from the program to be calls to <tt class="docutils literal"><span class="pre">alert</span></tt>.</p>
<p><strong>Important</strong>: If you run closure compiler on your code (which is done
by default in <tt class="docutils literal"><span class="pre">-O2</span></tt> and above), you will need quotation marks around
the properties of <tt class="docutils literal"><span class="pre">Module</span></tt> as in the example above (and you need to
run closure on the compiled code together with the declaration of
<tt class="docutils literal"><span class="pre">Module</span></tt>).</p>
<div class="section" id="setting-module">
<h4>Setting Module<a class="headerlink" href="#setting-module" title="Permalink to this headline">¶</a></h4>
<p>When generating just JavaScript, no Module object is created. So you can
use emcc&#8217;s <tt class="docutils literal"><span class="pre">--pre-js</span></tt> to add some JS code that defines the Module
object with the stuff you need.</p>
<p>When generating HTML, a Module object is created for you and filled with
some defaults for printing, etc. (compile a little hello world example
to see, or view <tt class="docutils literal"><span class="pre">src/shell.html</span></tt>). The simplest thing is to use
<tt class="docutils literal"><span class="pre">--pre-js</span></tt> to add some JS code that adds properties to that existing
Module object.</p>
</div>
<div class="section" id="environment-variables">
<h4>Environment variables<a class="headerlink" href="#environment-variables" title="Permalink to this headline">¶</a></h4>
<p>Sometimes, the code you are compiling will want to access environment
variables (for instance, in C, by calling the <tt class="docutils literal"><span class="pre">getenv()</span></tt> function).
Just as with the filesystem, emscripten generated JavaScript cannot
access the computer&#8217;s environment variables so a virtualised environment
is provided. The JavaScript object <tt class="docutils literal"><span class="pre">ENV</span></tt> contains these virtualised
environment variables, and by modifying it you can pass variables to
your compiled code. Care must be taken to ensure that the <tt class="docutils literal"><span class="pre">ENV</span></tt>
variable has been initialised by Emscripten before it is modified -
using <tt class="docutils literal"><span class="pre">Module.preRun</span></tt> is a convenient way to do this. For example to
set an environment variable <tt class="docutils literal"><span class="pre">MY_FILE_ROOT</span></tt> to be <tt class="docutils literal"><span class="pre">&quot;/usr/lib/test/&quot;</span></tt>
you could add</p>
<div class="code javascript highlight-cpp"><div class="highlight"><pre><span class="n">Module</span><span class="p">.</span><span class="n">preRun</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">function</span><span class="p">()</span> <span class="p">{</span><span class="n">ENV</span><span class="p">.</span><span class="n">MY_FILE_ROOT</span> <span class="o">=</span> <span class="s">&quot;/usr/lib/test&quot;</span><span class="p">})</span>
</pre></div>
</div>
<p>to your setup code, as described above.</p>
</div>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="embind.html" class="btn btn-neutral float-right" title="embind (wiki-import)"/>Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="Connecting C++ and JavaScript (under-construction)"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

     
  <!--begin hamishw addition -->
  
    
  
  <!--  -->
   
   <!--Footer important links
    If no such page exists then nav item is not created. CSS defines which of the long or short version is 
	displayed.   -->

	
   <div class="footer-nav-bar" style="">
     <div class="footer-options">
   
        
              <a class="footer-navlink-short" title="Report Bug" href="../../introducing_emscripten/bug_reports.html">Report Bug</a><a class="footer-navlink-long" title="Report Bug" href="../../introducing_emscripten/bug_reports.html">Report Bug</a>
        
              <a class="footer-navlink-short" title="Licensing" href="../../introducing_emscripten/emscripten_license.html">Licensing</a><a class="footer-navlink-long" title="Licensing" href="../../introducing_emscripten/emscripten_license.html">Licensing</a>
        
              <a class="footer-navlink-short" title="Contributing" href="../../contributing/contributing.html">Contributing</a><a class="footer-navlink-long" title="Contributing" href="../../contributing/contributing.html">Contributing</a>
         
		      <a class="footer-navlink-short" href="https://groups.google.com/forum/#!forum/emscripten-discuss">Mailing list</a><a class="footer-navlink-long" href="https://groups.google.com/forum/#!forum/emscripten-discuss">Mailing list</a>
         
		      <a class="footer-navlink-short" href="https://github.com/kripken/emscripten/wiki">Wiki</a><a class="footer-navlink-long" href="https://github.com/kripken/emscripten/wiki">Wiki</a>
         
		      <a class="footer-navlink-short" href="https://plus.google.com/100622854474489221138">Google+</a><a class="footer-navlink-long" href="https://plus.google.com/100622854474489221138">Google+</a>
        
              <a class="footer-navlink-short" title="Release notes" href="../../introducing_emscripten/release_notes.html">Release notes</a><a class="footer-navlink-long" title="Release notes" href="../../introducing_emscripten/release_notes.html">Release notes</a>
        
              <a class="footer-navlink-short" title="Blogs" href="../../introducing_emscripten/community.html">Blogs</a><a class="footer-navlink-long" title="Blogs" href="../../introducing_emscripten/community.html">Blogs</a>
        
              <a class="footer-navlink-short" title="Help" href="../../introducing_emscripten/community.html">Help</a><a class="footer-navlink-long" title="Contact" href="../../introducing_emscripten/community.html">Contact</a>
         
				
     </div>
	 
	
 
   </div>
  
    <!-- <div role="navigation" aria-label="breadcrumbs navigation">

  <div class="breadcrumb-box">
     <a class="breadcrumb-box-item" href="../../../index.html">Home</a> 
      
          <a class="breadcrumb-box-item" href="../index.html">&raquo;&nbsp;Integrating/Porting (under-construction)</a>
      
          <a class="breadcrumb-box-item" href="index.html">&raquo;&nbsp;Connecting C++ and JavaScript (under-construction)</a>
      
    <div class="breadcrumb-box-item">&raquo;&nbsp;Interacting with code (wiki-import)</div>
  </div>
 
</div> -->
  
    <!-- <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a> --.
   <!--end hamishw addition -->
  
  
	  
<!-- end section moved here by hamishw -->
  <div role="contentinfo" class="copyright-box">
    <!-- section moved here by hamishw - needs tidying, which is why it is still in breadcrumbs mode --> 
  <ul class="wy-breadcrumbs">
      <li class="wy-breadcrumbs-aside">
        
          <a href="../../../_sources/docs/coding/connecting_cpp_and_javascript/Interacting-with-code.txt" rel="nofollow"> View page source</a>
        
      </li>

	  <li class="wy-breadcrumbs-aside">
         <a href="../../site/about.html">About site</a>
      </li>
	  
	  <li class="wy-breadcrumbs-aside">
        <a href="https://github.com/kripken/emscripten/issues/new?title=Bug%20in%20page:Interacting%20with%20code%20%28wiki-import%29%20&body=REPLACE%20THIS%20TEXT%20WITH%20BUG%20DESCRIPTION%20%0A%0AURL:%20../../../docs/coding/connecting_cpp_and_javascript/Interacting-with-code&labels=bug">Page bug</a>
      </li>
  </ul>
  
    <p>
        <!-- &copy; Copyright 2014, . -->
		&copy; Copyright 2014,  <a href="../../../docs\contributing\AUTHORS.html">Emscripten Contributors</a>.
		<!-- update theme to remove the translation stuff here - it was breaking due to link to AUTHORS file. This is a cludge to allow specific link to my authors file -->
    </p>
	
  </div>
  
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'1.20.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   
</div>
</body>
</html>